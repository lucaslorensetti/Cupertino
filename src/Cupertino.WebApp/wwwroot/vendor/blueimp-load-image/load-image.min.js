!function(o){"use strict";function i(t,n,r){var o,c=document.createElement("img");return c.onerror=function(e){return i.onerror(c,e,t,n,r)},c.onload=function(e){return i.onload(c,e,t,n,r)},"string"==typeof t?(i.fetchBlob(t,function(e){e?o=i.createObjectURL(t=e):(o=t,r&&r.crossOrigin&&(c.crossOrigin=r.crossOrigin)),c.src=o},r),c):i.isInstanceOf("Blob",t)||i.isInstanceOf("File",t)?(o=c._objectURL=i.createObjectURL(t))?(c.src=o,c):i.readFile(t,function(e){var t=e.target;t&&t.result?c.src=t.result:n&&n(e)}):void 0}var t=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL&&webkitURL;function c(e,t){!e._objectURL||t&&t.noRevoke||(i.revokeObjectURL(e._objectURL),delete e._objectURL)}i.fetchBlob=function(e,t,n){t()},i.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},i.transform=function(e,t,n,r,o){n(e,o)},i.onerror=function(e,t,n,r,o){c(e,o),r&&r.call(e,t)},i.onload=function(e,t,n,r,o){c(e,o),r&&i.transform(e,o,r,n,{})},i.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},i.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},i.readFile=function(e,t,n){if(o.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:o.loadImage=i}("undefined"!=typeof window&&window||this);